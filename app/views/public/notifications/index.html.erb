<h1>通知一覧</h1>


<% if @notifications.exists? %>

<%= link_to "すべての通知を既読にする", notifications_update_all_path, method: :patch, class: "btn btn-primary" %>
  <% @notifications.each do |notification| %>
    <div>
      <% case notification.target_type %>
      <% when "like" %>
        <%= link_to notification.end_user.name, end_user_path(notification.end_user) %>さんが<%= link_to notification.like.post.title, post_path(notification.like.post) %>にいいねしました。
      <% when "comment" %>
        <%= link_to notification.end_user.name, end_user_path(notification.end_user) %>さんが<%= link_to notification.comment.post.title, post_path(notification.comment.post) %>にコメントしました。
      <% when "follow" %>
        <%= link_to notification.end_user.name, end_user_path(notification.end_user) %>さんがあなたをフォローしました。
      <% end %>
      <%= link_to "既読", notification_path(notification), method: :patch, class: "btn btn-primary" %>
    </div>
  <% end %>

<% else %>
  <p>通知はありません。</p>
<% end %>

